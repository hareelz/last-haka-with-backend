{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { API } from \"../../helpers/consts\";\nimport { getConfig } from \"../../helpers/functions\";\nexport const getProducts = createAsyncThunk(\"products/getProducts\", async () => {\n  try {\n    const result = await axios.get(`${API}/products/` + window.location.search, getConfig());\n    return result.data;\n  } catch (error) {\n    throw error;\n  }\n});\nexport const getCategories = createAsyncThunk(\"products/getCategories\", async () => {\n  try {\n    const result = await axios.get(`${API}/category/list/`, getConfig());\n    return result.data.results;\n  } catch (error) {\n    throw error;\n  }\n});\nexport const createProduct = createAsyncThunk(\"products/createProduct\", async newProduct => {\n  try {\n    await axios.post(`${API}/products/`, newProduct, getConfig());\n  } catch (error) {\n    throw error;\n  }\n});\nexport const deleteProduct = createAsyncThunk(\"products/deleteProduct\", async (id, thunkAPI) => {\n  try {\n    await axios.delete(`${API}/products/${id}/`, getConfig());\n    thunkAPI.dispatch(getProducts());\n  } catch (error) {\n    throw error;\n  }\n});\nexport const getOneProduct = createAsyncThunk(\"products/getOneProduct\", async id => {\n  try {\n    const result = await axios.get(`${API}/products/${id}/`, getConfig());\n    return result.data;\n  } catch (error) {\n    throw error;\n  }\n});\nexport const updateProduct = createAsyncThunk(\"products/updateProduct\", async editedProduct => {\n  try {\n    await axios.patch(`${API}/products/${editedProduct.get(\"id\")}/`, editedProduct, getConfig());\n  } catch (error) {\n    throw error;\n  }\n});","map":{"version":3,"names":["createAsyncThunk","axios","API","getConfig","getProducts","result","get","window","location","search","data","error","getCategories","results","createProduct","newProduct","post","deleteProduct","id","thunkAPI","delete","dispatch","getOneProduct","updateProduct","editedProduct","patch"],"sources":["C:/Users/Dzhum/OneDrive/Рабочий стол/last-haka-with-backend/src/store/actions/productActions.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport { API } from \"../../helpers/consts\";\r\nimport { getConfig } from \"../../helpers/functions\";\r\n\r\nexport const getProducts = createAsyncThunk(\r\n  \"products/getProducts\",\r\n  async () => {\r\n    try {\r\n      const result = await axios.get(\r\n        `${API}/products/` + window.location.search,\r\n        getConfig()\r\n      );\r\n      return result.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n);\r\n\r\nexport const getCategories = createAsyncThunk(\r\n  \"products/getCategories\",\r\n  async () => {\r\n    try {\r\n      const result = await axios.get(`${API}/category/list/`, getConfig());\r\n      return result.data.results;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n);\r\n\r\nexport const createProduct = createAsyncThunk(\r\n  \"products/createProduct\",\r\n  async (newProduct) => {\r\n    try {\r\n      await axios.post(`${API}/products/`, newProduct, getConfig());\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteProduct = createAsyncThunk(\r\n  \"products/deleteProduct\",\r\n  async (id, thunkAPI) => {\r\n    try {\r\n      await axios.delete(`${API}/products/${id}/`, getConfig());\r\n      thunkAPI.dispatch(getProducts());\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n);\r\n\r\nexport const getOneProduct = createAsyncThunk(\r\n  \"products/getOneProduct\",\r\n  async (id) => {\r\n    try {\r\n      const result = await axios.get(`${API}/products/${id}/`, getConfig());\r\n\r\n      return result.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateProduct = createAsyncThunk(\r\n  \"products/updateProduct\",\r\n  async (editedProduct) => {\r\n    try {\r\n      await axios.patch(\r\n        `${API}/products/${editedProduct.get(\"id\")}/`,\r\n        editedProduct,\r\n        getConfig()\r\n      );\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n);\r\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,sBAAsB;AAC1C,SAASC,SAAS,QAAQ,yBAAyB;AAEnD,OAAO,MAAMC,WAAW,GAAGJ,gBAAgB,CACzC,sBAAsB,EACtB,YAAY;EACV,IAAI;IACF,MAAMK,MAAM,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAC3B,GAAEJ,GAAI,YAAW,GAAGK,MAAM,CAACC,QAAQ,CAACC,MAAM,EAC3CN,SAAS,CAAC,CACZ,CAAC;IACD,OAAOE,MAAM,CAACK,IAAI;EACpB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CACF,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGZ,gBAAgB,CAC3C,wBAAwB,EACxB,YAAY;EACV,IAAI;IACF,MAAMK,MAAM,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAE,GAAEJ,GAAI,iBAAgB,EAAEC,SAAS,CAAC,CAAC,CAAC;IACpE,OAAOE,MAAM,CAACK,IAAI,CAACG,OAAO;EAC5B,CAAC,CAAC,OAAOF,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CACF,CAAC;AAED,OAAO,MAAMG,aAAa,GAAGd,gBAAgB,CAC3C,wBAAwB,EACxB,MAAOe,UAAU,IAAK;EACpB,IAAI;IACF,MAAMd,KAAK,CAACe,IAAI,CAAE,GAAEd,GAAI,YAAW,EAAEa,UAAU,EAAEZ,SAAS,CAAC,CAAC,CAAC;EAC/D,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CACF,CAAC;AAED,OAAO,MAAMM,aAAa,GAAGjB,gBAAgB,CAC3C,wBAAwB,EACxB,OAAOkB,EAAE,EAAEC,QAAQ,KAAK;EACtB,IAAI;IACF,MAAMlB,KAAK,CAACmB,MAAM,CAAE,GAAElB,GAAI,aAAYgB,EAAG,GAAE,EAAEf,SAAS,CAAC,CAAC,CAAC;IACzDgB,QAAQ,CAACE,QAAQ,CAACjB,WAAW,CAAC,CAAC,CAAC;EAClC,CAAC,CAAC,OAAOO,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CACF,CAAC;AAED,OAAO,MAAMW,aAAa,GAAGtB,gBAAgB,CAC3C,wBAAwB,EACxB,MAAOkB,EAAE,IAAK;EACZ,IAAI;IACF,MAAMb,MAAM,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAE,GAAEJ,GAAI,aAAYgB,EAAG,GAAE,EAAEf,SAAS,CAAC,CAAC,CAAC;IAErE,OAAOE,MAAM,CAACK,IAAI;EACpB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CACF,CAAC;AAED,OAAO,MAAMY,aAAa,GAAGvB,gBAAgB,CAC3C,wBAAwB,EACxB,MAAOwB,aAAa,IAAK;EACvB,IAAI;IACF,MAAMvB,KAAK,CAACwB,KAAK,CACd,GAAEvB,GAAI,aAAYsB,aAAa,CAAClB,GAAG,CAAC,IAAI,CAAE,GAAE,EAC7CkB,aAAa,EACbrB,SAAS,CAAC,CACZ,CAAC;EACH,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}