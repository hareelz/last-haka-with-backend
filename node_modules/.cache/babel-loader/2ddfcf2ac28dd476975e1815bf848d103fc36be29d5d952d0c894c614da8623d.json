{"ast":null,"code":"var _jsxFileName = \"/Users/elzar/js/makers/last-hakaton/src/components/EditProduct.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Button, Container, FormControl, FormSelect } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { createProduct, getCategories, getOneProduct, updateProduct } from '../store/actions/productActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProduct = () => {\n  _s();\n  const {\n    categories,\n    oneProduct\n  } = useSelector(state => state.product);\n  const [title, setTitle] = useState('');\n  const [category, setCategory] = useState('');\n  const [price, setPrice] = useState(0);\n  const [description, setDescription] = useState('');\n  const [image, setImage] = useState(null);\n  const dispatch = useDispatch();\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    dispatch(getOneProduct(id));\n    dispatch(getCategories());\n  }, []);\n  useEffect(() => {\n    if (oneProduct) {\n      setTitle(oneProduct.title);\n      setDescription(oneProduct.description);\n      setPrice(oneProduct.price);\n      setCategory(oneProduct.category.id);\n    }\n  }, [oneProduct]);\n  const navigate = useNavigate();\n  const handleCreate = () => {\n    let newProduct = new FormData();\n    newProduct.append('title', title);\n    newProduct.append('category', category);\n    newProduct.append('description', price);\n    newProduct.append('price', price);\n    if (image) {\n      newProduct.append('image', image);\n    }\n    newProduct.append('id', id);\n    dispatch(updateProduct(newProduct)).then(() => navigate('/products'));\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"EDIT PRODUCT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      value: title,\n      onChange: e => setTitle(e.target.value),\n      placeholder: \"title\",\n      type: \"text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n      value: category,\n      onChange: e => setCategory(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        disabled: true,\n        value: \"\",\n        children: \"choose category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), categories.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: item.id,\n        children: item.title\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      value: description,\n      onChange: e => setDescription(e.target.value),\n      placeholder: \"description\",\n      type: \"text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      value: price,\n      onChange: e => setPrice(e.target.value),\n      placeholder: \"price\",\n      type: \"text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      onChange: e => setImage(e.target.files[0]),\n      placeholder: \"image\",\n      accept: \"image/*\",\n      type: \"file\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleCreate,\n      children: \"UPDATE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(EditProduct, \"K4ikJKATOHu5F/ySlGE+R52JN84=\", false, function () {\n  return [useSelector, useDispatch, useParams, useNavigate];\n});\n_c = EditProduct;\nexport default EditProduct;\nvar _c;\n$RefreshReg$(_c, \"EditProduct\");","map":{"version":3,"names":["React","useEffect","useState","Button","Container","FormControl","FormSelect","useDispatch","useSelector","useNavigate","useParams","createProduct","getCategories","getOneProduct","updateProduct","jsxDEV","_jsxDEV","EditProduct","_s","categories","oneProduct","state","product","title","setTitle","category","setCategory","price","setPrice","description","setDescription","image","setImage","dispatch","id","navigate","handleCreate","newProduct","FormData","append","then","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","type","disabled","map","item","files","accept","onClick","_c","$RefreshReg$"],"sources":["/Users/elzar/js/makers/last-hakaton/src/components/EditProduct.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button, Container, FormControl, FormSelect } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {\n  createProduct,\n  getCategories,\n  getOneProduct,\n  updateProduct,\n} from '../store/actions/productActions';\n\nconst EditProduct = () => {\n  const { categories, oneProduct } = useSelector((state) => state.product);\n\n  const [title, setTitle] = useState('');\n  const [category, setCategory] = useState('');\n  const [price, setPrice] = useState(0);\n  const [description, setDescription] = useState('');\n  const [image, setImage] = useState(null);\n\n  const dispatch = useDispatch();\n\n  const { id } = useParams();\n\n  useEffect(() => {\n    dispatch(getOneProduct(id));\n    dispatch(getCategories());\n  }, []);\n\n  useEffect(() => {\n    if (oneProduct) {\n      setTitle(oneProduct.title);\n      setDescription(oneProduct.description);\n      setPrice(oneProduct.price);\n      setCategory(oneProduct.category.id);\n    }\n  }, [oneProduct]);\n  const navigate = useNavigate();\n\n  const handleCreate = () => {\n    let newProduct = new FormData();\n    newProduct.append('title', title);\n    newProduct.append('category', category);\n    newProduct.append('description', price);\n    newProduct.append('price', price);\n    if (image) {\n      newProduct.append('image', image);\n    }\n    newProduct.append('id', id);\n\n    dispatch(updateProduct(newProduct)).then(() => navigate('/products'));\n  };\n\n  return (\n    <Container>\n      <h2>EDIT PRODUCT</h2>\n      <FormControl\n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n        placeholder=\"title\"\n        type=\"text\"\n      />\n      <FormSelect\n        value={category}\n        onChange={(e) => setCategory(e.target.value)}\n      >\n        <option disabled value=\"\">\n          choose category\n        </option>\n        {categories.map((item) => (\n          <option key={item.id} value={item.id}>\n            {item.title}\n          </option>\n        ))}\n      </FormSelect>\n\n      <FormControl\n        value={description}\n        onChange={(e) => setDescription(e.target.value)}\n        placeholder=\"description\"\n        type=\"text\"\n      />\n      <FormControl\n        value={price}\n        onChange={(e) => setPrice(e.target.value)}\n        placeholder=\"price\"\n        type=\"text\"\n      />\n      <FormControl\n        onChange={(e) => setImage(e.target.files[0])}\n        placeholder=\"image\"\n        accept=\"image/*\"\n        type=\"file\"\n      />\n      <Button onClick={handleCreate}>UPDATE</Button>\n    </Container>\n  );\n};\n\nexport default EditProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}